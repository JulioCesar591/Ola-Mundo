{% extends "base.html" %}

 
{% block page_title %}
    Lista de Tarefas
{% endblock page_title %} 

 
{% block content %}
    <h1>Lista de Tarefas</h1>


        {% if alunos_list %}
                <table class="table fs-6">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Título</th>
                        <th scope="col">Críado em</th>
                        <th scope="col">Data de Início</th>
                        <th scope="col">Finalizado em</th>
                        <th scope="col">Ações</th>
                    </tr>
                </thead>
                <tbody>
                    {% for todo in alunos_list %}
                        <tr class="{% if todo.finished %}tarefa-concluida{% endif %}"> 
                            <th scope="row">{{ todo.pk }}</th>
                                <td>{{ todo.title }}</td>
                                <td>{{ todo.created_at }}</td>
                                <td>{{ todo.deadline }}</td>
                                <td>{{ todo.finished|default:"-" }}</td>
                                <td>
                                    {% if not todo.finished %}
                                        <a href="{% url 'todo_complete' pk=todo.pk %}" class="btn btn-primary btn-sm">Concluir</a>
                                        <a href="{% url 'todo_update' pk=todo.pk %}" class="btn btn-secondary btn-sm">Editar</a>
                                    {% else %}
                                        <span class="badge bg-success me-2">Concluída</span>
                                        <a href="{% url 'todo_reopen' pk=todo.pk %}" class="btn btn-warning btn-sm">Reabrir</a>
                                    {% endif %}

                                        <a href="{% url 'todo_delete' pk=todo.pk %}" class="btn btn-danger btn-sm">Excluir</a>
                                </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Não há tarefas cadastradas</p>
        {% endif %}

        <a href="{% url 'todo_create' %}" class="btn btn-primary">Nova tarefa</a>


{% endblock content %}
       